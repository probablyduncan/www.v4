<!DOCTYPE html>
<html>
    <head>

        <title>DuncanPetrie.com | Bigmap</title>
        <meta charset="UTF-8"/>

        <meta name="description" content="Abstract/Impressionist Photography | On the hunt for plants and birds and rocks and things">

        <meta name="keywords" content="Duncan, Petrie, Photography, Abstract, Impressionist, Impressionism, Wildlife, Wisconsin, Milwaukee, Falmouth, Lake Michigan, water, blur, icm, intentional, camera, movement, probablyduncan">

        <meta name="author" content="Duncan Petrie">

        <!-- css -->
        <link rel="stylesheet" type="text/CSS" href="../style.css">
        <!-- javascript -->
        <script src="../functions.js"></script>

        <!-- fonts -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">

        <!-- meta -->
        <meta name="viewport" content="width=device-width, initial-scale=1">

    </head>
    <body onscroll="scrollControl()" onload="afterLoadControl('noblink')">

        <div id="wrapper">

            <div id="progress-bar"></div>
            <span id="tooltip" class="tooltip-inactive"></span>

            <div id="top-text-container">
                <h1 id="top-text"><a id="home-button" href="../">DUNCANPETRIE.COM</a><a id="menu-button" class="menu-button-inactive" onclick="toggleMenu()">MENU</a></h1>
            </div>

            <div id="intro-container">
                
                <div id="menu-img" class="shadow-img si-hover">
                    <div id="menu" class="menu-hidden menu-disabled">
                        <div id="menu-column-1" style="text-align: center;">
                            <a href="../work/" class="menu-link">WORK</a>
                            <a href="..#projects" class="menu-link">PROJECTS</a>
                            <a href="https://www.instagram.com/probablyduncan/" target="_blank" class="menu-link">INSTAGRAM</a>
                            <a href="mailto:duncanpetrie1@gmail.com" class="menu-link">EMAIL</a>
                        </div>
                    </div>
                    <img src="bigmapW2 full.jpg" onmouseover="startTooltip(this)" onmouseout="stopTooltip(this)" onmousemove="moveTooltip(this)" alt="Visions of afar.">
                </div>

            </div>

            <div id="content-container">

                <p>
                    
                    I've always loved maps.                    
                    <br><br>
                    I've had maps on my walls since before I can remember: world maps, maps of places I've been, maps of places I want to go. They're like windows, windows you don't need curtains for.
                    <br><br>
                    I've spent more of my life than I care to admit looking at maps. There's always something new to see, and even familiar names feel like discoveries.
                    <br><br>
                    So, it was only natural that I create my own.
                
                </p>

                <img src="old1.jpg" onmouseover="startTooltip(this)" onmouseout="stopTooltip(this)" onmousemove="moveTooltip(this)" alt="My first map, 2016.">

                <p>
                    It started with a world. After all, I needed something to map.
                    <br><br>
                    Over many years, this world grew, took shape, sprouted cities and legend and beasts of yore. Every year or two I'd start a new map. Each iteration had more detail, more names, more meat between the mountain ranges.
                </p>

                <img src="old2.jpg" onmouseover="startTooltip(this)" onmouseout="stopTooltip(this)" onmousemove="moveTooltip(this)" alt="A world emerges, 2018.">

                <p>
                    I tried many different styles. For a while, I flirted with realism, but neither I nor my computer's fans could handle that many pixels.
                </p>

                <img src="old3.png" onmouseover="startTooltip(this)" onmouseout="stopTooltip(this)" onmousemove="moveTooltip(this)" alt="Experimenting, 2019." style="margin-bottom: 80px;">

                <img src="old4.png" onmouseover="startTooltip(this)" onmouseout="stopTooltip(this)" onmousemove="moveTooltip(this)" alt="Too much detail. 2019.">

                <p>
                    Eventually, I settled on a vibrant, stylized palette based on watercolor maps I'd seen in antique shops. I've been working on the current one for about two years now. Some months I work on it a lot, and some I barely touch it, but it's always there, ready for another weird name.
                    <br><br>
                    See the full map here: <a href="bigmapW2 full.jpg" target="_blank" title="File: bigmapW2.jpg">bigmapW2.jpg</a>.
                </p>

            </div>

        </div>

        <div id="map" onmousemove="mapDrag()" onmousedown="mapMouseDown()" onmouseup="mapMouseUp()" onmouseleave="mapMouseLeave()">
        </div>

        <style>
            #map{
                display: none;
                width: 90vw;
                height: 90vh;
                margin-bottom: 5vh;
                user-select: none;
                cursor: grab;
                background-color: whitesmoke;
                border: 2px solid black;
                background-image: url("bigmapW2\ full.jpg");
                background-position: 50% 50%;
                background-size: 100%;
                background-repeat: no-repeat;
                transition: background-position 0.2s, background-size 0.2s;
            }
            #map:active{
                cursor: grabbing;
            }
            @media (hover:hover){
                #map{display: block;}
            }
        </style>

        <script type="text/javascript">
            //scroll control
            function scrollControl(){
                progressBar();
            }

            let map = document.getElementById('map');
            let mouseDown = false;
            let zoomed = false;
            let mouseDownX = 0;
            let mouseDownY = 0;

            //posX and posY store the current position of the map, and are 
            //let posX = window.innerWidth * 0.45;
            //let posY = window.innerHeight * 0.45;
            let offsetX = 0;
            let offsetY = 0;
            //console.log(map.backgroundPosition);

            function mapDrag(){
                if(mouseDown){
                    let xPos = Math.floor(mouseX - mouseDownX + offsetX);
                    let yPos = Math.floor(mouseY - mouseDownY + offsetY);
                    console.log(xPos + ", " + yPos);
                    map.style.backgroundPosition = "calc(50% + " + xPos + "px) calc(50% + " + yPos + "px)";
                    //console.log(map.style.backgroundPosition);
                }
            }
            function mapMouseDown(){
                mouseDown = true;
                mouseDownX = mouseX;
                mouseDownY = mouseY;
            }
            function mapMouseUp(){
                mouseDown = false;
                if(mouseX == mouseDownX && mouseY == mouseDownY) {mapToggleZoom()}
                offsetX += Math.floor(mouseX - mouseDownX);
                offsetY += Math.floor(mouseY - mouseDownY);
                // posX = parseInt(map.style.backgroundPositionX.substring(0, map.style.backgroundPositionX.indexOf('px')));
                // posY = parseInt(map.style.backgroundPositionY.substring(0, map.style.backgroundPositionY.indexOf('px')));
                // console.log(posX + ", " + posY);
            }
            function mapMouseLeave(){
                if(mouseDown){mapMouseUp();}
            }

            function mapToggleZoom(){
                if(map.style.backgroundSize == '200%') {
                    zoomed = false; 
                    map.style.backgroundSize = '100%';
                    map.style.backgroundPosition = '50% 50%';
                } else {
                    zoomed = true; 
                    map.style.backgroundSize = '200%';
                    //map.style.backgroundPosition = '50% 50%';
                }
            }

            

    
        </script>

    </body>
</html>